<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WAR</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
    <style>
        #deck {
            width: 100%;
            margin: 20px auto;
            background: black;
            border: solid 10px whitesmoke;
            outline-style: double;
            outline-color: tomato;
            outline-width: thick;
            padding: 10px;
            text-align: center;
            color: white;
        }

        #deck2 {
            width: 100%;
            margin: 20px auto;
            background: black;
            border: solid 10px whitesmoke;
            outline-style: double;
            outline-color: tomato;
            outline-width: thick;
            padding: 10px;
            text-align: center;
            color: white;
        }

        .card {
            padding: 10px;
            border: solid 1px #808080;
            background-color: white;
            display: inline-block;
            border-radius: 5px;
            font-size: 10pt;
            text-align: left;
            color: black;
            margin: 3px;
        }

        .clubs2 {
            background: url("./2_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs3 {
            background: url("./3_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs4 {
            background: url("./4_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs5 {
            background: url("./5_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs6 {
            background: url("./6_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs7 {
            background: url("./7_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs8 {
            background: url("./8_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs9 {
            background: url("./9_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs10 {
            background: url("./10_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs11 {
            background: url("./jack_of_clubs2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs12 {
            background: url("./queen_of_clubs2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs13 {
            background: url("./king_of_clubs2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .clubs14 {
            background: url("./ace_of_clubs.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades2 {
            background: url("./2_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades3 {
            background: url("./3_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades4 {
            background: url("./4_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades5 {
            background: url("./5_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades6 {
            background: url("./6_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades7 {
            background: url("./7_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades8 {
            background: url("./8_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades9 {
            background: url("./9_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades10 {
            background: url("./10_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades11 {
            background: url("./jack_of_spades2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades12 {
            background: url("./queen_of_spades2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades13 {
            background: url("./king_of_spades2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .spades14 {
            background: url("./ace_of_spades.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds2 {
            background: url("./2_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds3 {
            background: url("./3_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds4 {
            background: url("./4_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds5 {
            background: url("./5_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds6 {
            background: url("./6_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds7 {
            background: url("./7_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds8 {
            background: url("./8_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds9 {
            background: url("./9_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds10 {
            background: url("./10_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds11 {
            background: url("./jack_of_diamonds2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds12 {
            background: url("./queen_of_diamonds2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds13 {
            background: url("./king_of_diamonds2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .diamonds14 {
            background: url("./ace_of_diamonds.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts2 {
            background: url("./2_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts3 {
            background: url("./3_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts4 {
            background: url("./4_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts5 {
            background: url("./5_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts6 {
            background: url("./6_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts7 {
            background: url("./7_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts8 {
            background: url("./8_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts9 {
            background: url("./9_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts10 {
            background: url("./10_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts11 {
            background: url("./jack_of_hearts2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts12 {
            background: url("./queen_of_hearts2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts13 {
            background: url("./king_of_hearts2.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hearts14 {
            background: url("./ace_of_hearts.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        #draw {
            background: url("http://theredhandfiles.com/wp-content/uploads/2018/08/favicon.png"), black;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            color: white;
            padding: 10px 20px;
            border: solid whitesmoke;
            /* border-radius: 100%; */
            outline: thick double tomato;
            margin: 10px;
            display: inline-block;
            cursor: pointer;
        }

        .card .suit {
            height: 110px;
            width: 90px;
            font-weight: lighter; 
        }

        .card .diamonds {
            background-position-y: 95px;
            color: transparent;
            font-size: 15pt;
            font-weight: lighter;
            font-family: cursive;
        }

        .card .hearts {
            background-position-x: 91px;
            color: transparent;
            font-size: 15pt;
            font-weight: lighter;
            font-family: cursive;
        }

        .card .clubs {
            color: transparent;
            font-size: 15pt;
            font-weight: lighter;
            font-family: cursive;
        }

        .card .spades {
            color: transparent;
            font-size: 15pt;
            font-weight: lighter;
            font-family: cursive;
        }

        #jumbo {
            background: darkgreen;
        }

        #play-field {
            border: solid 10px whitesmoke;
            outline-style: double;
            outline-color: tomato;
            outline-width: thick;
            background: black;
        }

        h1 {
            color: yellow;
            text-shadow: 1px 1px whitesmoke;

        }

        @keyframes color-change {
            0% {
                color: dodgerblue;
            }

            25% {
                color: red;
            }

            50% {
                color: dodgerblue;
            }

            75% {
                color: red;
            }

            100% {
                color: dodgerblue;
            }

        }

        #whoWins {
            animation: color-change .25s infinite;
        }

        #yourWins {
            color: dodgerblue;
        }

        #cpuWins {
            color: red;
        }

        #stalemates {
            color: grey;
        }

        #yourCards {
            color: dodgerblue;
        }

        #cpuCards {
            color: red;
        }
    </style>

</head>

<body>
    <audio id="lewya" src="https://www.myinstants.com/media/sounds/hallelujahshort.swf.mp3"></audio>
    <audio id="loser" src="https://www.myinstants.com/media/sounds/the-simpsons-nelsons-haha_Hr8OgOG.mp3"></audio>
    <div id="jumbo" class="jumbotron jumbotron-fluid text-center">
        <div class="container">
            <div>
                <h1>War? What Is It Good For?</h1>
                <div id="play-field" class="jumbotron jumbotron-fluid text-center">
                    <div class="container">
                        <div class="hand">
                            <h1><span id="whoWins"></span></h1>
                            <h1> Your Wins: <span id="yourWins"></span> </h1>
                            <h1> CPU Wins: <span id="cpuWins"></span> </h1>
                            <h1> Stalemates: <span id="stalemates"></span> </h1>
                            <div id="compare"></div>
                            <button id="draw" class="">
                                <h2> Draw </h2>
                            </button>
                            <h1> Your Cards: <span id="yourCards"></span> </h1>
                            <h1> CPU Cards: <span id="cpuCards"></span> </h1>
                        </div>
                    </div>
                </div>
                <div id="deck" class="jumbotron jumbotron-fluid">

                </div>
                <div id="deck2" class="jumbotron jumbotron-fluid">

                </div>
            </div>
        </div>
    </div>




    <script>
        var deck = [];
        var deck2 = [];
        var suits = ["spades", "diamonds", "clubs", "hearts"];
        var values = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14"];
        var compare = [];
        var yourWins = 0;
        var cpuWins = 0;
        var stalemates = 0;
        var yourCards = 52;
        var cpuCards = 52;


        function getDeck() {
            var deck = [];
            for (var i = 0; i < suits.length; i++) {
                for (var x = 0; x < values.length; x++) {
                    var card = { Value: values[x], Suit: suits[i] };
                    deck.push(card);
                }
            }

            return deck;
        }

        function getDeck2() {
            var deck2 = [];
            for (var i = 0; i < suits.length; i++) {
                for (var x = 0; x < values.length; x++) {
                    var card = { Value: values[x], Suit: suits[i] };
                    deck2.push(card);
                }
            }

            return deck2;
        }

        function renderDeck() {
            document.getElementById("deck").innerHTML = "";
            for (var i = 0; i < deck.length; i++) {
                var card = document.createElement("div");
                var value = document.createElement("div");
                var suit = document.createElement("div");
                card.className = "card " + deck[i].Suit + deck[i].Value + " " + "jumbotron " + "jumbotron-fluid";
                value.className = "value" + deck[i].Value + " " + deck[i].Suit;
                suit.className = "suit " + deck[i].Suit;
                value.innerHTML = deck[i].Value;
                card.appendChild(value);
                card.appendChild(suit);
                document.getElementById("deck").appendChild(card);
                $(".value11").text("J");
                $(".value12").text("Q");
                $(".value13").text("K");
                $(".value14").text("A");
            }
        }

        function renderDeck2() {
            document.getElementById("deck2").innerHTML = "";
            for (var i = 0; i < deck2.length; i++) {
                var card = document.createElement("div");
                var value = document.createElement("div");
                var suit = document.createElement("div");
                var value2 = document.createElement("div");
                card.className = "card " + deck2[i].Suit + deck2[i].Value + " " + "jumbotron " + "jumbotron-fluid";
                value.className = "value" + deck2[i].Value + " " + deck2[i].Suit;
                suit.className = "suit " + deck2[i].Suit;
                value.innerHTML = deck2[i].Value;
                card.appendChild(value);
                card.appendChild(suit);
                document.getElementById("deck2").appendChild(card);
                $(".value11").text("J");
                $(".value12").text("Q");
                $(".value13").text("K");
                $(".value14").text("A");
            }
        }

        $("#draw").on("click", function () {
            $("#draw").hide(3000);
            $("#draw").prop("disabled", true);
            var firstCard = deck[0];
            var firstCPUcard = deck2[0];
            console.log(firstCard);
            console.log(firstCPUcard);
            compare.push(firstCard);
            compare.push(firstCPUcard);
            console.log(compare);
            compareHands();
            var dex = deck.indexOf(firstCard);
            var dexCPU = deck2.indexOf(firstCPUcard);
            console.log(dex);
            console.log(dexCPU);
            deck.splice(dex, 1);
            deck2.splice(dexCPU, 1);
            console.log(deck);
            console.log(deck2);
            renderDeck();
            renderDeck2();
            var cardValue = parseInt(Object.values(firstCard));
            var cpuValue = parseInt(Object.values(firstCPUcard));
            console.log(cardValue);
            console.log(cpuValue);

            if (cpuValue > cardValue) {
                setTimeout(function () {
                    $("#whoWins").show();
                    $("#whoWins").text("You Lose!!!");
                    $('#whoWins').animate({ fontSize: '70px' }, 1000);
                    $('#whoWins').animate({ fontSize: '0px' }, 1000);
                    $("#draw").show(3000);
                    $("#draw").prop("disabled", false);
                    $("#whoWins").fadeOut(1500);
                    $("#loser")[0].play();
                    cpuWins++;
                    cpuCards++;
                    yourCards--;
                    $("#cpuWins").text(cpuWins);
                    $("#cpuCards").text(cpuCards);
                    $("#yourCards").text(yourCards);

                }, 3000);
                deck2.push(firstCPUcard);
                deck2.push(firstCard);
                compare.splice(0, 2);
                console.log(compare);
                renderDeck2();
            }


            if (cpuValue < cardValue) {
                setTimeout(function () {
                    $("#whoWins").show();
                    $("#whoWins").text("You Win!!!");
                    $('#whoWins').animate({ fontSize: '70px' }, 1000);
                    $('#whoWins').animate({ fontSize: '0px' }, 1000);
                    $("#draw").show(3000);
                    $("#draw").prop("disabled", false);
                    $("#whoWins").fadeOut(1500);
                    yourWins++;
                    yourCards++;
                    cpuCards--;
                    $("#yourWins").text(yourWins);
                    $("#cpuCards").text(cpuCards);
                    $("#yourCards").text(yourCards);
                    $("#lewya")[0].play(5000);

                }, 3000);
                deck.push(firstCPUcard);
                deck.push(firstCard);
                compare.splice(0, 2);
                console.log(compare);
                renderDeck();
            }

            if (cpuValue === cardValue) {
                setTimeout(function () {
                    $("#whoWins").show();
                    $("#whoWins").text("Stalemate!");
                    $('#whoWins').animate({ fontSize: '60px' }, 1000);
                    $('#whoWins').animate({ fontSize: '0px' }, 1000);
                    $("#draw").show(3000);
                    $("#draw").prop("disabled", false);
                    $("#whoWins").fadeOut(1500);
                    stalemates++;
                    yourCards--;
                    cpuCards--;
                    $("#cpuCards").text(cpuCards);
                    $("#yourCards").text(yourCards);
                    $("#stalemates").text(stalemates);


                }, 3000);
                var graveYard = [];
                graveYard.push(firstCard);
                graveYard.push(firstCPUcard);
                console.log(graveYard);
                compare.splice(0, 2);
                console.log(compare);
                renderDeck();
                renderDeck2();
            }
        });

        function compareHands() {
            document.getElementById("compare").innerHTML = "";
            for (var i = 0; i < compare.length; i++) {
                var handCard = document.createElement("div");
                var handValue = document.createElement("div");
                var handSuit = document.createElement("div");
                handCard.className = "card " + compare[i].Suit + compare[i].Value + " " + "jumbotron " + "jumbotron-fluid";
                handValue.className = "value" + compare[i].Value + " " + compare[i].Suit;
                handSuit.className = "suit " + compare[i].Suit;
                handValue.innerHTML = compare[i].Value;
                handCard.appendChild(handValue);
                handCard.appendChild(handSuit);
                document.getElementById("compare").appendChild(handCard);
                $(".value11").text("J");
                $(".value12").text("Q");
                $(".value13").text("K");
                $(".value14").text("A");
            }
        }

        function shuffleDeck() {
	// for 1000 turns
	// switch the values of two random cards
	for (var i = 0; i < 1000; i++) {
		var location1 = Math.floor((Math.random() * deck.length));
		var location2 = Math.floor((Math.random() * deck.length));
		var tmp = deck[location1];

		deck[location1] = deck[location2];
		deck[location2] = tmp;
	}

	renderDeck();
}

function shuffleDeck2() {
	// for 1000 turns
	// switch the values of two random cards
	for (var i = 0; i < 1000; i++) {
		var location1 = Math.floor((Math.random() * deck2.length));
		var location2 = Math.floor((Math.random() * deck2.length));
		var tmp = deck2[location1];

		deck2[location1] = deck2[location2];
		deck2[location2] = tmp;
	}

	renderDeck2();
}

        function load() {
            deck = getDeck();
            deck2 = getDeck2();
            shuffleDeck();
            shuffleDeck2();
            renderDeck();
            renderDeck2();
            console.log(deck);
            console.log(deck2);
            $("#yourCards").text(yourCards);
            $("#cpuCards").text(cpuCards);
            $("#yourWins").text(yourWins);
            $("#cpuWins").text(cpuWins);
            $("#stalemates").text(stalemates);
            // $("#whoWins").fadeOut();
        }
        window.onload = load;
    </script>

</body>

</html>